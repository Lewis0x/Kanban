# 需求文档

## 1. 背景

部门需要统一跟踪成员问题处理进展，现有 JIRA 看板与搜索界面无法直接给出多阶段耗时、成员维度进展和可导出汇报数据。

## 2. 目标

- 构建只读冲刺问题管理看板
- 提供成员进展跟踪指标
- 提供甘特图时间轴展示
- 支持 CSV、Excel、PNG 导出用于汇报

## 3. 非目标

- 不支持拖拽改状态
- 不支持写回 JIRA
- 不引入复杂权限系统

## 4. 用户角色

- 部门经理：查看整体进度、成员对比
- 开发经理：跟踪在办问题与平均处理时长
- 成员：查看本人任务与时间节点

## 5. 功能需求

### 5.1 看板视图

- 按 Sprint 展示问题
- 三列固定：To Do / In Progress / Done
- 支持筛选：负责人、优先级、关键字
- 点击卡片可查看详情与阶段耗时

### 5.2 甘特图视图

- 双模式：按成员泳道、按 Sprint 泳道
- 时间节点来自 changelog 推断
- 展示生命周期区间与关键节点
- 与看板筛选条件保持一致

### 5.3 指标与统计

- 解决率：已解决数量 / 总分配数量
- 平均 Lead Time：创建到解决的平均耗时
- WIP：当前在办数量
- 优先级加权进度

### 5.4 导出

- CSV：问题明细
- Excel：问题明细 + 成员统计
- PNG：甘特图快照

## 6. 数据来源

- JIRA Agile API：Board、Sprint、Sprint Issues
- JIRA changelog：状态流转与指派变更

## 7. 时间节点定义

- created_at：问题创建时间
- product_assigned_at：首次指派时间
- dev_manager_assigned_at：第二次指派时间
- in_progress_at：状态进入 In Progress 时间
- resolved_at：状态进入 Resolved/Done 时间
- closed_at：状态进入 Closed 时间

## 8. 非功能需求

- 默认请求超时 ≤ 30 秒
- 单次看板查询在 500 条 issue 内可用
- 异常场景返回明确错误信息

## 9. 验收标准

- 同一筛选条件下，看板数量、甘特数量、导出明细数量一致
- 指标统计与明细可互相核对
- 无 JIRA 可用时可展示可读错误
